import{a as O}from"./chunk-6G2YFK5F.js";import{E as Z,a as k,b as B,c as q,d as G,f as P,g as A,h as j,i as V,j as $,k as H,l as L,m as U,n as z,o as J,p as K,q as Q,r as W,s as X,t as Y}from"./chunk-ZXZHUFDG.js";import{$a as i,Fa as f,Ga as y,Gb as I,Ha as E,Ia as e,Ja as t,Ka as u,Lb as x,Mb as n,Ob as F,Pb as g,Qa as v,Sb as D,Tb as _,Ub as N,Vb as w,Wb as R,Xb as T,aa as b,ab as p,ja as m,na as c,sa as S,tb as C,ya as h,za as s}from"./chunk-PZLIYHRI.js";import{a as M}from"./chunk-2NFLSA4Y.js";function ie(l,o){if(l&1&&(e(0,"mat-option",17),i(1),t()),l&2){let a=o.$implicit;s("value",a),m(),p(a)}}function oe(l,o){if(l&1&&(e(0,"mat-option",17),i(1),t()),l&2){let a=o.$implicit;s("value",a),m(),p(a)}}var ee=class l{constructor(o,a,r){this.fb=o;this.empSrv=a;this.router=r;this.employeeForm=this.fb.group({employeeName:["",n.required],contactNo:["",[n.required,n.pattern("^[0-9]{10}$")]],emailId:["",[n.required,n.email]],deptName:["",[n.required]],password:["",[n.required]],gender:["",[n.required]],role:["",[n.required]]}),C(()=>{let d=this.empSrv.employeeToEdit();d&&(this.EditEmployeeData=d,this.employeeForm.patchValue(d))})}hide=b(!0);clickEvent(o){this.hide.set(!this.hide()),o.stopPropagation()}employeeForm;RolesData=["Employee","Amin Department Employee","Department Head"];DepartmentData=["IT","Infra","Management"];isEditMode;EditEmployeeData=null;ngOnDestroy(){this.empSrv.ResetEmployeeEditMode()}ngOnInit(){this.isEditMode=this.empSrv.isEditMode()}submitForm(){if(this.employeeForm.valid)if(this.isEditMode){let o=M({},this.employeeForm.value);this.empSrv.UpdateEmployee(this.EditEmployeeData._id,o).subscribe(a=>{this.router.navigate(["layout/dashboard/view-employee"])})}else this.empSrv.createNewEmp(this.employeeForm.value).subscribe(o=>{o&&this.router.navigate(["layout/dashboard/view-employee"])},o=>{console.error("Error adding employee:",o)});else alert("Form is invalid")}static \u0275fac=function(a){return new(a||l)(c(w),c(O),c(I))};static \u0275cmp=S({type:l,selectors:[["app-create-employee"]],decls:56,vars:7,consts:[[1,"col-12","my-3",3,"ngSubmit","formGroup"],[1,"mx-3","my-4"],[1,"row","justify-content-between","my-3","mx-0","flex-wrap"],[1,"col-3","mx-3"],[1,"w-100"],["matInput","","formControlName","employeeName"],["type","email","formControlName","emailId","matInput","","placeholder","Ex. pat@example.com"],["matTextPrefix",""],["type","tel","formControlName","contactNo","matInput","","placeholder","555-555-1234"],["matSuffix",""],["aria-label","Select an option","formControlName","gender",1,"w-100"],["value","male"],["value","female"],["value","other"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["formControlName","deptName"],[3,"value"],["formControlName","role"],[1,"my-2"],["mat-stroked-button","",1,"my-3"]],template:function(a,r){a&1&&(e(0,"form",0),v("ngSubmit",function(){return r.submitForm()}),e(1,"h4",1),i(2),t(),e(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),i(7,"Employee Name"),t(),u(8,"input",5),t()(),e(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),i(12,"Employee Email"),t(),u(13,"input",6),t()(),e(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),i(17,"Employee Contact"),t(),e(18,"span",7),i(19,"+1 \xA0"),t(),u(20,"input",8),e(21,"mat-icon",9),i(22,"mode_edit"),t()()(),e(23,"div",3)(24,"mat-radio-group",10)(25,"mat-radio-button",11),i(26,"Male"),t(),e(27,"mat-radio-button",12),i(28,"Female"),t(),e(29,"mat-radio-button",13),i(30,"Other"),t()()(),e(31,"div",3)(32,"mat-form-field",4)(33,"mat-label"),i(34,"Enter your password"),t(),u(35,"input",14),e(36,"button",15),v("click",function(te){return r.clickEvent(te)}),e(37,"mat-icon"),i(38),t()()()(),e(39,"div",3)(40,"mat-form-field",4)(41,"mat-label"),i(42,"Emploee Department"),t(),e(43,"mat-select",16),y(44,ie,2,2,"mat-option",17,f),t()()(),e(46,"div",3)(47,"mat-form-field",4)(48,"mat-label"),i(49,"Select Emploee Role"),t(),e(50,"mat-select",18),y(51,oe,2,2,"mat-option",17,f),t()()(),e(53,"div",19)(54,"button",20),i(55),t()()()()),a&2&&(s("formGroup",r.employeeForm),m(2),p(r.isEditMode?"Edit Employee Details:":"Add Emplyee Details:"),m(33),s("type",r.hide()?"password":"text"),m(),h("aria-label","Hide password")("aria-pressed",r.hide()),m(2),p(r.hide()?"visibility_off":"visibility"),m(6),E(r.DepartmentData),m(7),E(r.RolesData),m(4),p(r.isEditMode?"Edit Employee":"Create New Employee"))},dependencies:[q,B,k,$,H,V,P,A,j,U,L,J,z,W,K,Q,Y,X,G,Z,R,D,x,F,g,T,_,N],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%!important}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:transparent!important}"]})};export{ee as CreateEmployeeComponent};
